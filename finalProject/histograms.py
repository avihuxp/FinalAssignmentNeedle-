import matplotlib.pyplot as plt
from typing import List, Dict, Tuple

import matplotlib.pyplot as plt
from typing import List, Dict, Tuple

def create_histogram(communities: List[Dict[int, Tuple[int, float]]]) -> None:
    """
    Create a histogram of the distribution of the second value in tuples
    as a function of the first value in the tuple from the communities list.

    :param communities: A list of dictionaries where each key is a community id and each value is
                       a tuple containing (number of players, standard deviation).
    """
    # Extracting the number of players and standard deviation
    num_players = []
    std_devs = []

    for community in communities:
        for community_id, values in community.items():
            num_players.append(values[0])  # First value: number of players
            std_devs.append(values[1])      # Second value: standard deviation

    # Creating the histogram
    plt.figure(figsize=(10, 6))
    plt.bar(num_players, std_devs, color='blue', alpha=0.7)
    plt.xlabel('Number of Players')
    plt.ylabel('Standard Deviation')
    plt.title('Histogram of Standard Deviation by Number of Players')
    plt.xticks(num_players)  # Set x-ticks to show each unique number of players
    plt.grid(axis='y', linestyle='--', alpha=0.7)

    # Show the histogram
    plt.show()


def create_histogram_by_tuple_count(
        communities: List[Dict[int, Tuple[int, float]]]) -> None:
    """
    Create a histogram of the second value in tuples (standard deviation)
    as a function of the number of tuples.

    :param communities: A list of dictionaries where each key is a community id and each value is
                       a tuple containing (number of players, standard deviation).
    """
    # Extracting the standard deviations from the input data structure
    std_devs = []

    for community in communities:
        for key, values in community.items():
            std_devs.append(
                values[1])  # Append the second value (standard deviation)

    # Creating the histogram
    plt.figure(figsize=(10, 6))
    plt.hist(std_devs, bins=10, color='blue', alpha=0.7, edgecolor='black')
    plt.xlabel('Standard Deviation')
    plt.ylabel('Number of Communities')
    plt.title('Histogram of Standard Deviations by Number of Tuples')
    plt.grid(axis='y', linestyle='--', alpha=0.7)

    # Show the histogram
    plt.show()




def main():
    communities_l = [{0: (4, 98.9857944353633)}, {1: (18, 183.41339161092415)}]
    communities_30000 = [{0: (4, 98.9857944353633)}, {1: (18, 183.41339161092415)}, {67: (8, 150.04561806330767)}, {3: (31, 176.60505800810992)}, {4: (2, 69.0)}, {5: (29, 239.58436066229277)}, {6: (2, 55.5)}, {7: (2, 82.5)}, {8: (4, 103.28691833915852)}, {9: (3, 150.3152243342858)}, {10: (2, 202.0)}, {11: (3, 74.02852303147904)}, {12: (4, 140.148135913397)}, {13: (2, 53.5)}, {14: (2, 62.5)}, {15: (8, 59.28479990689013)}, {16: (2, 45.5)}, {17: (2, 333.0)}, {18: (5, 135.57728423301597)}, {19: (2, 203.0)}, {20: (29, 128.090290316035)}, {236: (30, 153.81061948599864)}, {22: (2, 23.5)}, {64: (20, 238.04984247001718)}, {24: (2, 122.5)}, {25: (2, 48.5)}, {26: (2, 92.0)}, {27: (2, 22.0)}, {28: (4, 31.34086788842964)}, {29: (3, 35.798820588890294)}, {30: (2, 54.0)}, {31: (2, 113.0)}, {422: (31, 167.55924294392634)}, {33: (2, 32.0)}, {34: (2, 95.5)}, {35: (2, 36.0)}, {36: (2, 92.0)}, {37: (24, 209.40894003520162)}, {38: (2, 1.0)}, {39: (12, 97.36653971234449)}, {40: (2, 25.5)}, {41: (4, 37.016888037759195)}, {42: (5, 37.193547827546645)}, {43: (24, 209.60881223523657)}, {44: (2, 15.0)}, {45: (12, 91.25331044223364)}, {46: (2, 155.5)}, {47: (2, 95.5)}, {48: (2, 21.5)}, {49: (2, 21.0)}, {50: (2, 33.0)}, {51: (2, 92.0)}, {52: (3, 20.741798914805393)}, {53: (2, 114.5)}, {54: (2, 6.0)}, {55: (4, 86.80005760366753)}, {56: (2, 94.0)}, {57: (2, 7.0)}, {58: (9, 31.550469073619684)}, {59: (2, 11.0)}, {60: (3, 28.051539866625664)}, {61: (2, 151.0)}, {62: (2, 94.0)}, {65: (5, 40.57782645731533)}, {66: (6, 37.406178931056594)}, {68: (3, 47.42010825237187)}, {69: (26, 105.12553780230974)}, {70: (4, 150.31363045312958)}, {71: (2, 124.5)}, {72: (4, 78.58872374584028)}, {73: (2, 36.0)}, {74: (2, 22.0)}, {75: (7, 89.30639760432186)}, {76: (2, 3.0)}, {77: (3, 131.4559495293639)}, {78: (2, 90.5)}, {79: (3, 13.4412301024373)}, {80: (4, 157.94381912566251)}, {81: (7, 173.38702726700689)}, {82: (3, 115.67867372837378)}, {83: (3, 20.07209228976613)}, {84: (5, 42.600469480981076)}, {85: (3, 213.06389234739476)}, {86: (2, 95.0)}, {87: (5, 194.0109275272916)}, {88: (2, 14.5)}, {89: (2, 19.5)}, {90: (15, 188.80532007570363)}, {91: (50, 173.2494155834299)}, {92: (7, 120.797350964332)}, {93: (2, 6.0)}, {94: (2, 35.0)}, {95: (9, 113.34019587066187)}, {96: (3, 90.5771617032805)}, {97: (3, 104.05554072492033)}, {98: (2, 58.0)}, {99: (3, 33.891985286593446)}, {100: (2, 137.5)}, {101: (2, 39.0)}, {102: (8, 77.91411537712534)}, {103: (3, 165.56771021750185)}, {104: (3, 46.02414825091522)}, {106: (2, 27.5)}, {107: (3, 103.29354072523391)}, {108: (2, 9.5)}, {109: (2, 37.5)}, {110: (3, 228.17537115122659)}, {111: (2, 62.0)}, {112: (2, 158.0)}, {113: (4, 36.1420807370024)}, {114: (13, 169.23038461494755)}, {115: (2, 112.5)}, {116: (2, 71.5)}, {117: (2, 161.5)}, {118: (3, 58.787753826796276)}, {119: (2, 16.0)}, {120: (2, 56.5)}, {121: (2, 99.0)}, {122: (2, 60.0)}, {123: (13, 107.57812628242729)}, {124: (7, 96.92665015466119)}, {125: (2, 47.0)}, {126: (2, 134.5)}, {127: (2, 19.0)}, {128: (2, 55.5)}, {129: (3, 40.07770230717103)}, {130: (2, 107.0)}, {131: (4, 48.63383595810637)}, {132: (2, 36.5)}, {133: (2, 55.0)}, {134: (2, 39.5)}, {135: (2, 12.5)}, {136: (2, 158.0)}, {137: (4, 227.2432617262831)}, {138: (2, 15.0)}, {139: (4, 123.10463029472125)}, {141: (3, 109.5171219490359)}, {142: (4, 45.40099117860754)}, {143: (2, 32.0)}, {144: (2, 149.0)}, {145: (3, 69.29646455628166)}, {146: (2, 89.5)}, {147: (4, 48.45810045802456)}, {148: (2, 71.0)}, {149: (3, 27.78888666755511)}, {150: (2, 19.0)}, {151: (16, 96.46661906457591)}, {152: (2, 36.5)}, {153: (3, 41.20679555607303)}, {154: (6, 145.61526553062888)}, {155: (2, 183.0)}, {156: (2, 114.5)}, {157: (3, 89.49612033800993)}, {158: (2, 201.5)}, {159: (2, 23.5)}, {160: (2, 70.0)}, {161: (5, 99.91476367384352)}, {162: (2, 50.5)}, {163: (2, 79.5)}, {164: (2, 57.0)}, {165: (5, 63.23100505290106)}, {166: (2, 58.5)}, {168: (2, 59.5)}, {169: (2, 6.5)}, {170: (2, 65.5)}, {171: (2, 113.5)}, {172: (5, 43.77030957167198)}, {173: (2, 16.5)}, {174: (2, 59.0)}, {175: (2, 72.0)}, {176: (2, 106.0)}, {177: (3, 60.33793720924396)}, {178: (2, 19.0)}, {179: (6, 132.62310842718506)}, {353: (13, 139.8876556849022)}, {181: (2, 175.0)}, {182: (4, 74.09242538883446)}, {183: (4, 143.06467069126467)}, {184: (3, 43.08389748179965)}, {185: (2, 27.5)}, {186: (2, 107.5)}, {187: (2, 70.5)}, {188: (2, 9.0)}, {189: (2, 34.5)}, {190: (2, 108.5)}, {191: (3, 49.378357832376544)}, {192: (2, 109.0)}, {193: (2, 83.0)}, {194: (2, 96.0)}, {195: (5, 248.61777892982633)}, {196: (5, 162.07529114581286)}, {197: (2, 110.0)}, {198: (4, 63.574267593107194)}, {199: (2, 70.5)}, {200: (2, 20.5)}, {201: (2, 72.5)}, {202: (2, 82.5)}, {203: (2, 32.5)}, {204: (2, 14.0)}, {205: (2, 31.0)}, {206: (3, 57.3468976202433)}, {207: (3, 16.30950643030009)}, {208: (4, 115.16808368641027)}, {209: (2, 142.0)}, {210: (3, 153.1687522527577)}, {211: (3, 116.31279665912373)}, {212: (3, 58.391399671146395)}, {213: (2, 120.0)}, {214: (2, 8.5)}, {215: (2, 77.0)}, {216: (2, 8.0)}, {217: (2, 89.5)}, {218: (2, 89.0)}, {219: (4, 88.04260332361828)}, {220: (2, 39.5)}, {221: (6, 119.39907407048385)}, {222: (2, 54.5)}, {223: (3, 40.00833246545858)}, {224: (3, 52.2749143152494)}, {225: (2, 101.0)}, {226: (2, 105.5)}, {227: (2, 113.5)}, {228: (3, 120.10088351974028)}, {229: (2, 145.0)}, {230: (3, 171.04970037974343)}, {231: (2, 31.0)}, {232: (3, 20.016659728003237)}, {233: (3, 14.817407180595247)}, {234: (2, 43.5)}, {235: (2, 44.5)}, {237: (2, 53.5)}, {238: (2, 4.0)}, {239: (2, 6.0)}, {240: (4, 42.970920399730794)}, {241: (2, 17.0)}, {242: (2, 167.5)}, {243: (2, 149.0)}, {244: (3, 23.612614331233114)}, {245: (7, 143.37349540160298)}, {246: (11, 91.91399141687744)}, {247: (2, 12.5)}, {248: (2, 24.5)}, {249: (2, 7.5)}, {250: (5, 94.75737438321094)}, {251: (3, 114.55808812805648)}, {252: (2, 68.5)}, {253: (2, 98.5)}, {254: (2, 35.5)}, {255: (2, 253.5)}, {256: (3, 72.49980842886568)}, {257: (3, 104.24437101776233)}, {258: (2, 43.0)}, {259: (2, 38.0)}, {260: (2, 15.5)}, {261: (2, 56.0)}, {262: (2, 11.0)}, {264: (5, 76.69837025647936)}, {265: (3, 73.27725128275183)}, {266: (3, 298.8827343439043)}, {267: (2, 42.0)}, {268: (2, 65.0)}, {269: (2, 1.5)}, {270: (2, 100.0)}, {271: (2, 88.0)}, {272: (6, 186.06689358638977)}, {273: (2, 190.5)}, {274: (2, 31.5)}, {275: (2, 116.5)}, {276: (4, 24.508926945094924)}, {277: (2, 33.0)}, {278: (2, 20.0)}, {279: (2, 35.5)}, {280: (2, 0.5)}, {281: (2, 6.0)}, {282: (2, 126.0)}, {283: (3, 36.5057073163453)}, {284: (5, 84.55152275388068)}, {285: (3, 110.71083455962605)}, {286: (2, 143.5)}, {287: (2, 39.0)}, {288: (2, 18.5)}, {289: (8, 56.28929183246135)}, {290: (2, 32.0)}, {291: (2, 10.5)}, {292: (2, 214.5)}, {293: (2, 216.0)}, {294: (2, 1.0)}, {295: (2, 8.5)}, {296: (2, 90.5)}, {297: (3, 315.03685851376537)}, {298: (2, 27.0)}, {299: (2, 8.5)}, {300: (3, 51.329004146453755)}, {301: (2, 60.5)}, {302: (2, 68.5)}, {303: (2, 4.5)}, {304: (2, 231.5)}, {305: (2, 80.0)}, {306: (2, 26.0)}, {307: (2, 20.0)}, {308: (2, 31.0)}, {309: (2, 33.5)}, {310: (2, 228.0)}, {311: (2, 6.0)}, {312: (2, 1.0)}, {313: (2, 72.5)}, {314: (2, 23.0)}, {315: (4, 70.1796801075639)}, {316: (2, 57.0)}, {317: (2, 209.0)}, {318: (3, 43.01162633521314)}, {319: (2, 30.5)}, {320: (2, 58.5)}, {321: (3, 60.96082530791576)}, {322: (2, 11.5)}, {323: (2, 25.0)}, {324: (2, 149.5)}, {325: (2, 1.0)}, {326: (2, 10.0)}, {327: (2, 86.5)}, {328: (2, 24.0)}, {329: (2, 35.5)}, {330: (2, 43.0)}, {332: (2, 45.5)}, {333: (3, 48.83304891839815)}, {334: (4, 22.509720122649238)}, {335: (4, 139.99709818421238)}, {336: (2, 47.0)}, {337: (2, 75.5)}, {338: (4, 69.60962577115323)}, {339: (2, 59.0)}, {340: (2, 138.0)}, {341: (2, 19.0)}, {343: (2, 155.5)}, {344: (2, 24.0)}, {345: (2, 13.5)}, {346: (2, 71.5)}, {347: (2, 22.0)}, {348: (2, 13.0)}, {349: (2, 176.5)}, {350: (2, 29.5)}, {351: (2, 33.0)}, {352: (2, 49.0)}, {354: (2, 27.5)}, {355: (2, 18.0)}, {356: (2, 141.5)}, {357: (2, 60.0)}, {358: (3, 67.1532244613433)}, {359: (2, 45.0)}, {360: (2, 74.0)}, {361: (2, 147.0)}, {362: (2, 12.5)}, {363: (2, 19.0)}, {364: (2, 8.0)}, {365: (2, 23.5)}, {366: (2, 8.5)}, {367: (5, 95.87617013627526)}, {368: (3, 62.168230543332086)}, {369: (3, 27.65260686927485)}, {370: (3, 56.84090858606052)}, {371: (2, 64.0)}, {372: (3, 17.90716802475106)}, {373: (2, 65.0)}, {374: (2, 9.0)}, {375: (2, 16.0)}, {376: (2, 3.0)}, {377: (4, 55.110684082126944)}, {378: (2, 34.0)}, {379: (2, 13.0)}, {380: (2, 86.5)}, {381: (6, 55.81417581781731)}, {382: (2, 27.0)}, {383: (2, 71.0)}, {384: (2, 26.0)}, {385: (2, 17.0)}, {386: (2, 135.5)}, {387: (3, 38.05551500403354)}, {388: (2, 37.0)}, {389: (2, 17.5)}, {390: (2, 21.5)}, {391: (2, 8.5)}, {392: (2, 49.0)}, {393: (2, 13.0)}, {394: (2, 139.0)}, {395: (2, 74.0)}, {396: (2, 32.0)}, {397: (3, 17.016332024133625)}, {398: (2, 27.0)}, {399: (4, 141.86679491692198)}, {400: (2, 99.5)}, {401: (2, 152.5)}, {402: (4, 152.09433750143364)}, {403: (2, 90.5)}, {404: (2, 1.5)}, {405: (2, 145.5)}, {406: (2, 83.0)}, {407: (2, 92.5)}, {408: (2, 11.5)}, {409: (2, 0.5)}, {410: (3, 130.6530605160944)}, {411: (3, 162.98329839451512)}, {412: (2, 154.0)}, {413: (2, 79.5)}, {414: (2, 60.5)}, {415: (3, 68.32438965861475)}, {416: (2, 168.5)}, {417: (3, 84.79910900999425)}, {418: (3, 37.69173207305107)}, {419: (2, 254.5)}, {420: (2, 96.0)}, {421: (2, 42.0)}, {423: (2, 27.5)}, {424: (2, 82.5)}, {425: (2, 6.5)}, {426: (2, 59.5)}, {427: (2, 63.5)}, {428: (2, 46.5)}, {429: (2, 11.5)}, {430: (2, 95.0)}, {431: (3, 72.95660810829041)}, {432: (2, 19.5)}, {433: (2, 27.0)}, {434: (4, 29.857997253667232)}, {435: (2, 1.5)}, {436: (2, 131.0)}, {437: (2, 42.5)}, {438: (2, 35.0)}, {439: (2, 186.5)}, {440: (2, 158.5)}, {441: (2, 24.0)}, {442: (2, 94.5)}, {443: (5, 104.98114116354424)}, {444: (2, 55.0)}, {445: (2, 67.0)}, {446: (3, 13.92838827718412)}, {447: (2, 81.0)}, {448: (2, 22.5)}, {449: (2, 32.0)}, {450: (2, 110.0)}, {451: (2, 23.5)}, {452: (3, 72.37402849088892)}, {453: (2, 64.5)}, {454: (2, 58.5)}, {455: (2, 18.0)}, {456: (2, 36.0)}, {457: (2, 6.5)}, {458: (3, 40.47221268969612)}, {459: (2, 51.0)}, {460: (2, 110.5)}, {461: (2, 78.5)}, {462: (2, 33.0)}, {463: (2, 34.0)}, {464: (2, 108.0)}, {465: (2, 79.0)}, {466: (3, 25.93581821856921)}, {467: (2, 72.0)}, {468: (2, 52.5)}, {469: (4, 45.42232380669223)}, {470: (2, 3.5)}, {471: (2, 173.5)}, {472: (2, 292.5)}, {473: (2, 3.5)}, {474: (2, 40.0)}, {475: (2, 22.0)}, {476: (2, 354.5)}, {477: (2, 8.5)}, {478: (4, 122.28731536835699)}, {479: (2, 68.5)}, {480: (2, 88.0)}, {481: (2, 71.5)}, {482: (2, 148.5)}, {483: (2, 78.0)}, {484: (2, 9.5)}, {485: (2, 49.0)}, {486: (2, 131.0)}, {487: (2, 47.0)}, {488: (3, 175.36248173426378)}, {489: (2, 0.5)}, {490: (2, 140.0)}, {491: (2, 10.5)}, {492: (3, 34.418987008142274)}, {493: (2, 11.5)}, {494: (4, 80.61017305526642)}, {495: (2, 104.5)}, {496: (2, 0.5)}, {497: (2, 263.5)}, {498: (2, 2.5)}, {499: (2, 40.0)}, {500: (2, 57.0)}, {501: (2, 7.0)}, {502: (2, 3.0)}, {503: (2, 4.0)}, {504: (2, 2.0)}, {505: (2, 7.0)}, {506: (2, 43.0)}, {507: (3, 44.090815370097204)}, {508: (4, 33.34197804570089)}, {509: (7, 64.09909420226639)}, {510: (2, 44.5)}, {511: (2, 86.0)}, {512: (2, 71.5)}, {513: (4, 339.0983448794759)}, {514: (2, 13.5)}, {515: (2, 78.5)}, {516: (3, 17.663521732655695)}, {517: (2, 19.5)}, {518: (2, 50.0)}, {519: (2, 28.0)}, {520: (2, 10.5)}, {521: (2, 141.0)}, {522: (2, 27.0)}, {523: (2, 58.0)}, {524: (2, 46.5)}, {525: (2, 47.0)}, {526: (2, 41.5)}, {527: (2, 36.5)}, {528: (2, 29.0)}, {529: (2, 78.5)}, {530: (3, 43.96210489349511)}, {531: (3, 49.701330185642135)}, {532: (2, 24.5)}, {533: (2, 154.0)}, {534: (2, 3.5)}, {535: (2, 13.0)}, {536: (2, 67.5)}, {537: (2, 134.0)}, {538: (2, 46.0)}, {539: (2, 29.0)}, {540: (2, 11.0)}, {541: (2, 24.5)}, {542: (2, 141.5)}, {543: (2, 69.5)}, {544: (2, 177.5)}, {545: (2, 23.5)}, {546: (2, 31.5)}, {547: (2, 41.5)}, {548: (2, 64.5)}, {549: (2, 19.0)}, {550: (2, 15.5)}, {551: (2, 14.5)}, {552: (2, 21.5)}, {553: (2, 92.5)}, {554: (2, 81.5)}, {555: (9, 115.01540422863602)}, {556: (2, 85.5)}, {557: (7, 128.47202506573092)}, {558: (3, 100.91690751416347)}, {559: (2, 24.5)}, {560: (2, 207.0)}, {561: (2, 18.5)}, {562: (2, 46.5)}, {563: (2, 55.5)}, {564: (2, 128.5)}, {565: (2, 55.0)}, {566: (2, 85.0)}, {567: (2, 11.5)}, {568: (2, 49.0)}, {569: (2, 16.0)}, {570: (2, 75.5)}, {571: (2, 109.5)}, {572: (2, 54.0)}, {573: (2, 150.5)}, {574: (2, 94.0)}, {575: (2, 5.5)}, {576: (2, 60.0)}, {577: (2, 95.5)}, {578: (2, 22.0)}, {579: (2, 21.5)}, {580: (3, 147.16506227891034)}, {581: (2, 191.0)}, {582: (2, 29.0)}, {583: (2, 220.5)}, {584: (2, 69.0)}, {585: (2, 76.5)}, {586: (2, 49.0)}, {587: (3, 42.88226776756202)}, {588: (2, 133.0)}, {589: (2, 15.5)}, {590: (2, 13.0)}, {591: (2, 25.0)}, {592: (3, 388.20183753643755)}, {593: (2, 15.5)}, {594: (4, 150.63428394625177)}, {595: (2, 189.0)}, {596: (2, 5.0)}, {597: (2, 43.0)}, {598: (2, 69.5)}, {599: (2, 14.5)}, {600: (2, 99.5)}, {601: (2, 4.5)}, {602: (2, 81.0)}, {603: (2, 114.5)}, {604: (2, 0.5)}, {605: (2, 50.0)}, {606: (2, 58.5)}, {607: (2, 237.0)}, {608: (2, 26.0)}, {609: (2, 28.0)}, {610: (2, 146.5)}, {611: (2, 2.5)}, {612: (2, 188.0)}, {613: (2, 31.5)}, {614: (2, 84.5)}, {615: (2, 227.0)}, {616: (2, 7.0)}, {617: (2, 75.0)}, {618: (2, 17.0)}, {619: (2, 114.5)}, {620: (2, 52.0)}, {621: (2, 15.5)}, {622: (2, 21.5)}, {623: (2, 103.5)}, {624: (2, 10.5)}, {625: (2, 64.0)}, {626: (2, 4.5)}, {627: (2, 117.5)}, {628: (2, 51.0)}, {629: (2, 288.5)}, {630: (2, 137.5)}, {631: (2, 97.0)}, {105: (2, 72.5)}, {331: (2, 66.5)}, {140: (2, 11.0)}, {180: (2, 100.5)}, {21: (2, 61.5)}, {342: (2, 72.0)}, {23: (2, 94.5)}, {63: (2, 195.5)}, {32: (2, 155.5)}, {2: (2, 3.5)}, {167: (2, 30.0)}, {263: (2, 5.5)}]
    create_histogram(communities_30000)
    create_histogram_by_tuple_count(communities_30000)

if __name__ == '__main__':
    main()